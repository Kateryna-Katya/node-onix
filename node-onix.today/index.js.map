{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n    // ----------------------------------------------------\r\n    // Логика переключения мобильного меню\r\n    // ----------------------------------------------------\r\n    const navToggle = document.querySelector('.nav__toggle');\r\n    const navList = document.querySelector('.nav__list');\r\n    const navLinks = document.querySelectorAll('.nav__link');\r\n\r\n    const toggleMenu = () => {\r\n        const isExpanded = navToggle.getAttribute('aria-expanded') === 'true' || false;\r\n        navToggle.setAttribute('aria-expanded', !isExpanded);\r\n        navList.classList.toggle('is-open');\r\n    };\r\n\r\n    navToggle.addEventListener('click', toggleMenu);\r\n\r\n    navLinks.forEach(link => {\r\n        link.addEventListener('click', () => {\r\n            if (navList.classList.contains('is-open')) {\r\n                toggleMenu();\r\n            }\r\n        });\r\n    });\r\n\r\n    // ----------------------------------------------------\r\n    // Кастомная JS-анимация для секции Hero: \"Путь Апгрейда\"\r\n    // ----------------------------------------------------\r\n    const pathElement = document.getElementById('hero-animation-path');\r\n    \r\n    if(pathElement) {\r\n        // Функция для запуска анимации\r\n        const animatePath = () => {\r\n            // Сброс стилей для повторного запуска\r\n            pathElement.style.transition = 'none';\r\n            pathElement.style.transform = 'translate(-50%, -50%) scale(0.1)';\r\n            pathElement.style.opacity = 0;\r\n\r\n            // Принудительный рефлоу для сброса transition\r\n            void pathElement.offsetWidth; \r\n\r\n            // Запуск анимации через 100мс\r\n            setTimeout(() => {\r\n                pathElement.style.transition = 'transform 2s cubic-bezier(0.25, 1, 0.5, 1), opacity 1.5s ease-out';\r\n                pathElement.style.transform = 'translate(-50%, -50%) scale(2)'; // Увеличение в 2 раза\r\n                pathElement.style.opacity = 0.8;\r\n                \r\n                // Сброс через 1.8с (чуть раньше, чем закончится основная анимация)\r\n                setTimeout(() => {\r\n                    pathElement.style.opacity = 0;\r\n                }, 1800);\r\n            }, 100);\r\n        };\r\n        \r\n        // Запуск анимации при загрузке и повтор каждые 4 секунды\r\n        animatePath();\r\n        setInterval(animatePath, 4000);\r\n    }\r\n\r\n    // ----------------------------------------------------\r\n    // Логика работы Аккордеона в секции Technology\r\n    // ----------------------------------------------------\r\n    const accordionHeaders = document.querySelectorAll('.accordion__header');\r\n\r\n    accordionHeaders.forEach(header => {\r\n        header.addEventListener('click', () => {\r\n            const currentItem = header.parentElement;\r\n            const content = header.nextElementSibling;\r\n            const isActive = currentItem.classList.contains('is-active');\r\n\r\n            // Закрываем все остальные элементы\r\n            document.querySelectorAll('.accordion__item.is-active').forEach(item => {\r\n                if (item !== currentItem) {\r\n                    item.classList.remove('is-active');\r\n                    item.querySelector('.accordion__content').setAttribute('hidden', true);\r\n                    item.querySelector('.accordion__header').setAttribute('aria-expanded', false);\r\n                }\r\n            });\r\n\r\n            // Переключаем текущий элемент\r\n            if (isActive) {\r\n                currentItem.classList.remove('is-active');\r\n                content.setAttribute('hidden', true);\r\n                header.setAttribute('aria-expanded', false);\r\n            } else {\r\n                currentItem.classList.add('is-active');\r\n                content.removeAttribute('hidden');\r\n                header.setAttribute('aria-expanded', true);\r\n            }\r\n        });\r\n    });\r\n\r\n    // ----------------------------------------------------\r\n    // Логика Капчи и Отправки Формы\r\n    // ----------------------------------------------------\r\n    const form = document.getElementById('contact-form');\r\n    const captchaLabel = document.getElementById('captcha-label');\r\n    const captchaInput = document.getElementById('captcha');\r\n    const captchaError = document.getElementById('captcha-error');\r\n    const successMessage = document.getElementById('success-message');\r\n    \r\n    let expectedAnswer;\r\n\r\n    // 1. Генерация математической капчи\r\n    const generateCaptcha = () => {\r\n        const num1 = Math.floor(Math.random() * 9) + 1; \r\n        const num2 = Math.floor(Math.random() * 9) + 1; \r\n        \r\n        const operation = '+'; \r\n        expectedAnswer = num1 + num2;\r\n        \r\n        captchaLabel.textContent = `Проверка: Сколько будет ${num1} ${operation} ${num2}?`;\r\n    };\r\n\r\n    generateCaptcha(); // Запускаем генерацию при загрузке\r\n\r\n    // 2. Обработка отправки формы\r\n    form.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        \r\n        captchaError.setAttribute('hidden', true);\r\n        successMessage.setAttribute('hidden', true);\r\n\r\n        const userAnswer = parseInt(captchaInput.value.trim());\r\n\r\n        // Проверка Капчи\r\n        if (userAnswer !== expectedAnswer) {\r\n            captchaError.removeAttribute('hidden');\r\n            generateCaptcha();\r\n            captchaInput.value = '';\r\n            return; \r\n        }\r\n\r\n        // Имитация асинхронной отправки данных\r\n        const submitButton = form.querySelector('.form__submit-btn');\r\n        submitButton.textContent = 'Отправка...';\r\n        submitButton.disabled = true;\r\n\r\n        setTimeout(() => {\r\n            // Успешный результат\r\n            successMessage.removeAttribute('hidden');\r\n            form.reset(); \r\n            generateCaptcha(); \r\n            \r\n            submitButton.textContent = 'Отправить Запрос';\r\n            submitButton.disabled = false;\r\n            \r\n            successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n            \r\n        }, 1500); \r\n    });\r\n    \r\n    // ----------------------------------------------------\r\n    // Логика Cookie Pop-up\r\n    // ----------------------------------------------------\r\n    const cookiePopup = document.getElementById('cookie-popup');\r\n    const acceptButton = document.getElementById('accept-cookies');\r\n    const cookieName = 'nodeOnix_cookies_accepted';\r\n\r\n    // 1. Проверяем, принимал ли пользователь cookies ранее\r\n    if (localStorage.getItem(cookieName) !== 'true') {\r\n        cookiePopup.removeAttribute('hidden');\r\n    }\r\n\r\n    // 2. Устанавливаем обработчик на кнопку \"Принять\"\r\n    acceptButton.addEventListener('click', () => {\r\n        localStorage.setItem(cookieName, 'true');\r\n        \r\n        cookiePopup.style.opacity = '0';\r\n        setTimeout(() => {\r\n            cookiePopup.setAttribute('hidden', true);\r\n            cookiePopup.style.opacity = '1';\r\n        }, 500);\r\n    });\r\n\r\n});"],"names":["navToggle","navList","navLinks","toggleMenu","isExpanded","link","pathElement","animatePath","header","currentItem","content","isActive","item","form","captchaLabel","captchaInput","captchaError","successMessage","expectedAnswer","generateCaptcha","num1","num2","operation","e","submitButton","cookiePopup","acceptButton","cookieName"],"mappings":"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"}