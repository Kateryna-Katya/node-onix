{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // ----------------------------------------------------\n    // Логика переключения мобильного меню\n    // ----------------------------------------------------\n    const navToggle = document.querySelector('.nav__toggle');\n    const navList = document.querySelector('.nav__list');\n    const navLinks = document.querySelectorAll('.nav__link');\n\n    const toggleMenu = () => {\n        const isExpanded = navToggle.getAttribute('aria-expanded') === 'true' || false;\n        navToggle.setAttribute('aria-expanded', !isExpanded);\n        navList.classList.toggle('is-open');\n    };\n\n    navToggle.addEventListener('click', toggleMenu);\n\n    navLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (navList.classList.contains('is-open')) {\n                toggleMenu();\n            }\n        });\n    });\n\n    // ----------------------------------------------------\n    // Кастомная JS-анимация для секции Hero: \"Путь Апгрейда\"\n    // ----------------------------------------------------\n    const pathElement = document.getElementById('hero-animation-path');\n    \n    if(pathElement) {\n        // Функция для запуска анимации\n        const animatePath = () => {\n            // Сброс стилей для повторного запуска\n            pathElement.style.transition = 'none';\n            pathElement.style.transform = 'translate(-50%, -50%) scale(0.1)';\n            pathElement.style.opacity = 0;\n\n            // Принудительный рефлоу для сброса transition\n            void pathElement.offsetWidth; \n\n            // Запуск анимации через 100мс\n            setTimeout(() => {\n                pathElement.style.transition = 'transform 2s cubic-bezier(0.25, 1, 0.5, 1), opacity 1.5s ease-out';\n                pathElement.style.transform = 'translate(-50%, -50%) scale(2)'; // Увеличение в 2 раза\n                pathElement.style.opacity = 0.8;\n                \n                // Сброс через 1.8с (чуть раньше, чем закончится основная анимация)\n                setTimeout(() => {\n                    pathElement.style.opacity = 0;\n                }, 1800);\n            }, 100);\n        };\n        \n        // Запуск анимации при загрузке и повтор каждые 4 секунды\n        animatePath();\n        setInterval(animatePath, 4000);\n    }\n\n    // ----------------------------------------------------\n    // Логика работы Аккордеона в секции Technology\n    // ----------------------------------------------------\n    const accordionHeaders = document.querySelectorAll('.accordion__header');\n\n    accordionHeaders.forEach(header => {\n        header.addEventListener('click', () => {\n            const currentItem = header.parentElement;\n            const content = header.nextElementSibling;\n            const isActive = currentItem.classList.contains('is-active');\n\n            // Закрываем все остальные элементы\n            document.querySelectorAll('.accordion__item.is-active').forEach(item => {\n                if (item !== currentItem) {\n                    item.classList.remove('is-active');\n                    item.querySelector('.accordion__content').setAttribute('hidden', true);\n                    item.querySelector('.accordion__header').setAttribute('aria-expanded', false);\n                }\n            });\n\n            // Переключаем текущий элемент\n            if (isActive) {\n                currentItem.classList.remove('is-active');\n                content.setAttribute('hidden', true);\n                header.setAttribute('aria-expanded', false);\n            } else {\n                currentItem.classList.add('is-active');\n                content.removeAttribute('hidden');\n                header.setAttribute('aria-expanded', true);\n            }\n        });\n    });\n\n    // ----------------------------------------------------\n    // Логика Капчи и Отправки Формы\n    // ----------------------------------------------------\n    const form = document.getElementById('contact-form');\n    const captchaLabel = document.getElementById('captcha-label');\n    const captchaInput = document.getElementById('captcha');\n    const captchaError = document.getElementById('captcha-error');\n    const successMessage = document.getElementById('success-message');\n    \n    let expectedAnswer;\n\n    // 1. Генерация математической капчи\n    const generateCaptcha = () => {\n        const num1 = Math.floor(Math.random() * 9) + 1; \n        const num2 = Math.floor(Math.random() * 9) + 1; \n        \n        const operation = '+'; \n        expectedAnswer = num1 + num2;\n        \n        captchaLabel.textContent = `Проверка: Сколько будет ${num1} ${operation} ${num2}?`;\n    };\n\n    generateCaptcha(); // Запускаем генерацию при загрузке\n\n    // 2. Обработка отправки формы\n    form.addEventListener('submit', (e) => {\n        e.preventDefault();\n        \n        captchaError.setAttribute('hidden', true);\n        successMessage.setAttribute('hidden', true);\n\n        const userAnswer = parseInt(captchaInput.value.trim());\n\n        // Проверка Капчи\n        if (userAnswer !== expectedAnswer) {\n            captchaError.removeAttribute('hidden');\n            generateCaptcha();\n            captchaInput.value = '';\n            return; \n        }\n\n        // Имитация асинхронной отправки данных\n        const submitButton = form.querySelector('.form__submit-btn');\n        submitButton.textContent = 'Отправка...';\n        submitButton.disabled = true;\n\n        setTimeout(() => {\n            // Успешный результат\n            successMessage.removeAttribute('hidden');\n            form.reset(); \n            generateCaptcha(); \n            \n            submitButton.textContent = 'Отправить Запрос';\n            submitButton.disabled = false;\n            \n            successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            \n        }, 1500); \n    });\n    \n    // ----------------------------------------------------\n    // Логика Cookie Pop-up\n    // ----------------------------------------------------\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptButton = document.getElementById('accept-cookies');\n    const cookieName = 'nodeOnix_cookies_accepted';\n\n    // 1. Проверяем, принимал ли пользователь cookies ранее\n    if (localStorage.getItem(cookieName) !== 'true') {\n        cookiePopup.removeAttribute('hidden');\n    }\n\n    // 2. Устанавливаем обработчик на кнопку \"Принять\"\n    acceptButton.addEventListener('click', () => {\n        localStorage.setItem(cookieName, 'true');\n        \n        cookiePopup.style.opacity = '0';\n        setTimeout(() => {\n            cookiePopup.setAttribute('hidden', true);\n            cookiePopup.style.opacity = '1';\n        }, 500);\n    });\n\n});"],"names":["navToggle","navList","navLinks","toggleMenu","isExpanded","link","pathElement","animatePath","header","currentItem","content","isActive","item","form","captchaLabel","captchaInput","captchaError","successMessage","expectedAnswer","generateCaptcha","num1","num2","operation","e","submitButton","cookiePopup","acceptButton","cookieName"],"mappings":"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"}